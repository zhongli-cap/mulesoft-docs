[[_sources]]
= Creating Message Sources with the Mule SDK
:keywords: mule, sdk, sources, listener, triggers

As we learned before, operations are components which process a message and generate a result. Message sources are another type component
which receives or generates new messages to be processed by the Mule Runtime.

Examples of message sources are

* An Http listener
* A file watcher
* A JMS/AMQP listener which retrieves messages from a queue to which the user previously subscribed
* Salesforce Streaming API
* Etc

== Similarities between an Operation and a Message Source

Both of them have:

* Parameters
* A return type
* Name and Description
* Reconnection capabilities

== Differences between an Operation and a Message Source

|===
|Operations|Message Sources
|Operations process messages
|Sources create messages and pushes them to a flow
|Operations lifecycle is tied to the containing flowâ€™s
|Message sources can be started/stopped independently from the containing flow
|Any operation parameters has the option of accepting expressions (which is actually the default).
|Sources have a clear definition on which parameters can accept expressions and which cannot. Only parameters which are part of generating a response can accept expressions
|An operation can have lifecycle, but its parameter values are not only not available but also not needed
|A Message source must have at least a start() and stop() phases and they might actually require access to the parameter values
|A connection is obtained each time the operation is executed
|A connection is obtained each time the message source is started or when reconnection happens.
|===

== Implementing a Message Source through the Mule SDK

The differences listed above, makes it hard to define a way to implement a message source in a way 100% consistent with the
model defined for operations.

Sources are required to extend the Source class which takes two generics: one for the type of the generated event payload
and another one for the type of the Attributes:

[source, java]
----
@Alias("listener")
@EmitsResponse
public class HttpListener extends Source<InputStream, HttpRequestAttributes> {
----

[TIP]
You can use the `@Alias` annotation to force a name, otherwise the SDK will infer one as usual

== Next step

 <<_source_parameters, Defining parameters in a Message Source>>