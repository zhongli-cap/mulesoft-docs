= About DataWeave Type Coercion using `as`
:keywords: studio, anypoint, esb, transform, transformer, format, aggregate, rename, split, filter convert, xml, json, csv, pojo, java object, metadata, dataweave, data weave, datamapper, dwl, dfl, dw, output structure, input structure, map, mapping

In DataWeave, types can be coerced from one type to other using the `as` operator.

Note that when you provide an operator with properties that do not match the expected types, DataWeave automatically attempts to coerce the provided property to the required type.

== Defining DataWeave Types For Type Coercion

The DataWeave example defines the type `Currency` using the `Number` type, then uses `as` to coerce the `price` values to the `Currency` type.

.Input
[source,xml,linenums]
-----------------------------------------------------------------------
<items>
    <item>
        <price>22.30</price>
    </item>
    <item>
        <price>20.31</price>
    </item>
</items>
-----------------------------------------------------------------------

.DataWeave
[source,DataWeave, linenums]
-----------------------------------------------------------------------
%dw 2.0
output application/json
type Currency = Number { format: "##"}
---
books: payload.items.*item map
    book:
        price: $.price as Currency
-----------------------------------------------------------------------

.Output
[source,json,linenums]
-----------------------------------------------------------------------
{
  "books": [
    {
      "book": {
        "price": 22.30
      }
    },
    {
      "book": {
        "price": 20.31
      }
    }
  ]
}
-----------------------------------------------------------------------

//TODO: NEEDS SOME CLARIFICATION
In Anypoint Studio, you can define several more values, like separators, quotation marks, and escape characters.

== Type Coercion Table

This table shows the possible combinations and the properties from the schema that are used in the transformation.

The metadata `format` key is used for formatting numbers and dates.

[cols="1,1,2", options="header"]
|====
|Source         |Target             | Property
|`Range`          |`Array`          |
|`Number`         |`Binary`         |
|`String`         |`Binary`         |
|`String`         |`Boolean`        |
|`Number`         |`DateTime`       | `unit`
|`LocalDateTime`  |`DateTime`       |
|`String`         |`DateTime`       | `format` / `locale`
|`DateTime`       |`LocalDate`      |
|`LocalDateTime`  |`LocalDate`      |
|`String`         |`LocalDate`      | `format` / `locale`
|`DateTime`       |`LocalDateTime`  |
|`String`         |`LocalDateTime`  | `format` / `locale`
|`DateTime`       |`LocalTime`      |
|`LocalDateTime`  |`LocalTime`      |
|`Time`           |`LocalTime`      |
|`String`         |`LocalTime`      | `format` / `locale`
|`DateTime`       |`Number`         | `unit`
|`String`         |`Number`         | `format` / `locale`
|`String`         |`Period`         |
|`String`         |`Regex`          |
|`DateTime`       |`String`         | `format` / `locale`
|`LocalDateTime`  |`String`         | `format` / `locale`
|`LocalTime`      |`String`         | `format` / `locale`
|`LocalDate`      |`String`         | `format` / `locale`
|`Time`           |`String`         | `format` / `locale`
|`Period`         |`String`         |
|`TimeZone`       |`String`         |
|`Number`         |`String`         | `format` / `locale`
|`Boolean`        |`String`         |

|`Range`
|`String`
| Returns a string with all the values of the range using `,` as the separator

|`Type`          |`String`         |
|`DateTime`      |`Time`           |
|`LocalDateTime` |`Time`           |
|`LocalTime`     |`Time`           |
|`String`        |`Time`           | `format`
|`DateTime`      |`TimeZone`       |
|`Time`          |`TimeZone``      |
|`String`        |`TimeZone`       |
|====

// (1) Returns an array with all the values of the object.

== See Also

link:/mule-user-guide/v/4.0/dataweave-formats[DataWeave Formats]
