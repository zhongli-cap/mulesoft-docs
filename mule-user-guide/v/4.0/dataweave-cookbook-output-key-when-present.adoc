= Example: Outputting a Field Based on a Condition
:keywords: studio, anypoint, transform, transformer, format, aggregate, rename, split, filter convert, xml, json, csv, pojo, java object, metadata, dataweave, data weave, datamapper, dwl, dfl, dw, output structure, input structure, map, mapping

This example outputs a field when it is present in the input, a JSON array. The first object in the array contains `"insurance"`, while the second does not. The XML output mirrors this structure.

The example uses these operators:

* `map` to go through every element within the input array.
* `when $.insurance?` to determine when to output an `insurance` field.

.Input JSON
[source,json, linenums]
----
[
  {
    "name" : "Julian",
    "gender" : "Male",
    "age" : 41,
    "insurance": "Osde"
  },
  {
    "name" : "Mariano",
    "gender" : "Male",
    "age" : 33
  }
]
----

.DataWeave
[source,dataweave, linenums]
----
%dw 1.0
%output application/xml
---
users: { (payload map
        user: {
          'name': $.name,
          ('insurance': $.insurance) when $.insurance?
        } )
 }
----

.Output XML
[source,xml, linenums]
----
<?xml version='1.0' encoding='US-ASCII'?>
<users>
  <user>
    <name>Julian</name>
    <insurance>Osde</insurance>
  </user>
  <user>
    <name>Mariano</name>
  </user>
</users>
----

== See Also

link:/mule-user-guide/v/4.0/dataweave-types[DataWeave Value Types]

link:/mule-user-guide/v/4.0/dataweave-operators[DataWeave Operators]

link:/mule-user-guide/v/4.0/dataweave-selectors[DataWeave Selectors]

link:/mule-user-guide/v/4.0/dataweave-examples[DataWeave Examples]
