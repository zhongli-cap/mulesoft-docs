= Global Elements 
:keywords: studio, server, components, connectors, elements, palette, global elements, configuration elements


A *Global Element* is an object that you define once to configure specific parameters, ensuring expected functionality of the element inside a Mule flow. Rather than repeatedly writing the same code to apply the same configuration to multiple elements in flows, you create one _global_ element that details your connection, configuration or transport details.

Then, you can require any number of elements across flows in your Mule application to reference the global element to configure runtime behavior.

== Essentials

Before venturing further into this topic, review the features of the link:/mule-fundamentals/v/3.8/anypoint-studio-essentials[Anypoint Studio Visual Editor] to learn more about developing Mule applications using the Anypoint Studio graphical user interface and to understand the context in which we use these "global elements".

[[advantages]]
== Advantages

Global elements provide a number of benefits to you as a Mule application developer.

=== Reusability

You can configure a global element just once, and *_share that configuration among building blocks of the same type_*. This is particularly useful when you have to define the connection details and login credentials for an external source, such as a SaaS application or database. +

=== Efficiency

Rather than changing the same configuration multiple times within many like building blocks (e.g. multiple connectors that hook into the same service, using one set of credentials) throughout the Mule flow, you can change the configuration once in the global element, and the changes apply to all Mule flow elements that reference the global element.

=== Flexibility

An element in a Mule flow can apply a global element’s configuration exactly as defined, or compliment the global configuration properties. +

== How to Create a Global Element

[NOTE]
Some components _require_ their properties be stored in a global element.
In any case, we recommend you use global elements for the link:#advantages[Advantages] listed in the previous section.


[tabs]
------
[tab,title="Anypoint Studio Visual Editor"]
....
. In the Anypoint Studio Visual Editor, click the *Global Elements* tab at the base of the canvas to access a list of all global elements in an application.
+
image:global-element-create-annot.png[GEtab]
+
. Click *Create* to add a new global element.
. In the *Choose Global Type* wizard, navigate the directories or use the filter to select the _type_ of global element you wish to create, then click *OK*.
+
.Anypoint Studio 5 and Older Look
image::chooseglobaltype.png[chooseglobaltype,225,225,role="left"]
.Anypoint Studio 6 and Newer Look
image::global-elements-03c8f.png[new look - studio 6 look,225,225,role="right"]
. Define the configurable parameters of your global element in the *Global Element Properties* window that appears, then click *OK* to save.

+
[NOTE]
====
To configure a _local_ element in a Mule app flow to reference a _global_ element:

* Click the element in the flow
* Use the drop-down menu next to the *Connector Configuration*, *Connector Endpoint*, or other reference field to select a global element from one or many you may have already created.
====

+

[TIP]
====
You can create a new global element from within an element instance in your flow.

Click the plus icon next to the *Connector Configuration*, *Connector Endpoint*, or other reference field, then follow the steps above to configure a global element. Click the Edit icon to edit an existing global element.

image:connector-configuration.png[connectorconfiguration]
====
....
[tab,title="XML Editor or Standalone"]
....
. In the XML Editor in Studio, or in your XML config file, create a global element _above and outside_ any flows within your application.
. Define the values of attributes associated with the type of global element you added (see Examples below).
. To configure an element in flow to reference a global element, add a `config-ref` or `connector-ref` attribute to the element. The example below includes a global Salesforce element (`sfdc:config`), and a flow which includes a Salesforce connector (`sfdc:create`) that references the global Salesforce element.

[source, xml, linenums]
----
<?xml version="1.0" encoding="UTF-8"?>
 
<mule xmlns:data-mapper="http://www.mulesoft.org/schema/mule/ee/data-mapper" xmlns:sfdc="http://www.mulesoft.org/schema/mule/sfdc" xmlns:file="http://www.mulesoft.org/schema/mule/file" xmlns:tracking="http://www.mulesoft.org/schema/mule/ee/tracking" xmlns="http://www.mulesoft.org/schema/mule/core" xmlns:doc="http://www.mulesoft.org/schema/mule/documentation" xmlns:spring="http://www.springframework.org/schema/beans" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://www.mulesoft.org/schema/mule/file http://www.mulesoft.org/schema/mule/file/current/mule-file.xsd
 
http://www.mulesoft.org/schema/mule/ee/data-mapper http://www.mulesoft.org/schema/mule/ee/data-mapper/current/mule-data-mapper.xsd
 
http://www.mulesoft.org/schema/mule/sfdc http://www.mulesoft.org/schema/mule/sfdc/current/mule-sfdc.xsd
 
http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-current.xsd
 
http://www.mulesoft.org/schema/mule/core http://www.mulesoft.org/schema/mule/core/current/mule.xsd
 
http://www.mulesoft.org/schema/mule/ee/tracking http://www.mulesoft.org/schema/mule/ee/tracking/current/mule-tracking-ee.xsd">
 
    <sfdc:config name="Salesforce1" username="username" password="password"  doc:name="Salesforce" securityToken="IQZjCdweSF45JD90Me2BWLLVDo">
        <sfdc:connection-pooling-profile initialisationPolicy="INITIALISE_ONE" exhaustedAction="WHEN_EXHAUSTED_GROW"/>
    </sfdc:config>
 
    <flow name="Contacts_to_SFDC" doc:name="Contacts_to_SFDC">
        ...
        <sfdc:create config-ref="Salesforce1" type="" doc:name="Salesforce Connector">
            <sfdc:objects ref="#[payload]"/>
        </sfdc:create>
    </flow>
 
</mule>
----
....
------

== Global Element Examples

=== Example 1 - Append a String

[TIP]
If you find that you need to append the same string multiple times at various points in a flow, you might store such a piece of functionality inside a global element for a *Transformer* of type *Append String*, where the *Message* field would be where you store your string to append.

image:global-elements-f7eb3.png[example ge for append string]

=== Example 2 - HTTP Listener Global Element

The HTTP listener in this example is configured to listen on a particular port for requests. There are Mule runtime-specific parameters configured as well.

`    <http:listener-config name="HTTP_Listener_Configuration" host="localhost" port="8081" doc:name="HTTP Listener Configuration">
        <http:worker-threading-profile threadWaitTimeout="1500" maxBufferSize="10"/>
    </http:listener-config>`

[IMPORTANT]
If you are coding by hand, notice the global element is defined _outside and above_ the flow that references it.

[source, xml, linenums]
----
<?xml version="1.0" encoding="UTF-8"?>
 
<mule xmlns:http="http://www.mulesoft.org/schema/mule/http" xmlns="http://www.mulesoft.org/schema/mule/core" xmlns:doc="http://www.mulesoft.org/schema/mule/documentation" xmlns:spring="http://www.springframework.org/schema/beans" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-current.xsd
 
http://www.mulesoft.org/schema/mule/core http://www.mulesoft.org/schema/mule/core/current/mule.xsd
 
http://www.mulesoft.org/schema/mule/http http://www.mulesoft.org/schema/mule/http/current/mule-http.xsd">
 
    <http:listener-config name="HTTP_Listener_Configuration" host="localhost" port="8081" doc:name="HTTP Listener Configuration">
        <http:worker-threading-profile threadWaitTimeout="1500" maxBufferSize="10"/>
    </http:listener-config>
 
    <flow name="myNewProjectFlow1" doc:name="myNewProjectFlow1">
        <http:listener config-ref="HTTP_Listener_Configuration" path="/" doc:name="HTTP Connector"/>
    </flow>
</mule>
----


== See Also

* *NEXT STEP:* Use what you've learned to follow the link:/mule-fundamentals/v/3.8/basic-studio-tutorial[Basic Studio Tutorial]. +
