= Managing Permissions
:keywords: anypoint platform, permissions, configuring, accounts, roles

This section explains how permissions work across different products and APIs managed feom the Anypoint Plaform.

== Assumptions

This page assumes that you have an Organization Administrator role in your organization, that you have been assigned as the administrator of one of the business groups of your Organization, or that you have API Version Owner permissions and that you want to manage user permissions for an API version, a business group or the entire organization.

== How Permissions Work in the Anypoint Platform

In the Anypoint Platform, users belong to an organization and have a set of *roles* and *permissions*.

Each role contains a list of _permissions_ that define what a user that holds that role can do with the specific resources it scopes. +
Certain Roles come with a set of default permissions. As an Organization Administrator, you can create your customized roles and assign the permissions you see fit, or, depending on the product, you can add permissions directly to a specific user, without the need for roles.

=== Understading Permissions

Depending on the amount of products you have in the Anypoint Platform, you'll see a set of default types of _permissions_ in every new organization and business group when first created. There is, however, one distinction to make between the permission types:

. *Product Permissions*
:: Default permissions for each Anypoint Platform product (Runtime Manager, Data Gateway, etc). They are *environment specific* â€“ they grant you the ability to do something within a particular environment, but not to the entire organization
. *API Permissions*
:: Default Permissions for each API managed from the Anypoint Platform. They can be API version specific or they can be extended to all API versions - you can manage user access based on a particular API version, but you cannot extend those permissions to the entire organization.

:: You can assign user permissions to edit or view individual API versions or API portals using the following pre-defined link:/access-management/roles[roles]: *API Version Owner* and *Portal Viewers*.

Since _API versions_ and _Products deployment environments_ are grouped under organizations (and optionally under business groups too), to access them you need to have an account that owns the necessary permissions and that belongs to its corresponding organization or business group (if such resource exists).

Roles that are assigned at the master organization level can only reference resources that are at the master organization level, roles that belong to a business group can only reference resources within that business group.

[NOTE]
--
A user that owns any role of a business group is implicitly granted membership in that business group. +
Once a user belongs to a business group within an organization, the only way to assign entitlements to that same user in a different business group is by assigning it a role within that second business group.
--

== Product Specific Permissions

=== CloudHub Permissions

There are two ways to assign CloudHub permissions. One way is to add them to Anypoint Platform roles, and then assign those roles to users. The other is to assign permissions directly to individual users in the link:/access-management/users#granting-permissions-to-users[users menu].

To add CloudHub permissions to a role do the following

. Make sure you're in the right business group
. Pick the Cloudhub Permissions tab
. Click in the green region labelled *Add an environment by name*
. Type in the name of one of the environments existing in your organization (if these environments belong to a business group, they are only be available when creating a role in that same business group)
. Now you are able to select what permissions to grant within that environment. You can also pick *Select All* to assign all permissions related to that environment to that role.
+
image:cloudhub+perms.jpeg[cloudhub+perms]

[WARNING]
Note that CloudHub permissions are specific to a single environment, so if you have multiple environments and want to give a role the same permissions on all, you must add these permissions multiple times, one for each environment.

You can also assign CloudHub permissions directly to a specific user (not a role), you can do this by going to the *Users* menu, selecting a user, and then following the same steps as above. Note that the user must already be a member of your organization for you to grant permissions.

=== API Permissions

There are two ways to assign API permissions. One way is to add them to Anypoint Platform roles, and then assigning those roles to users. The other is to assign permissions directly to individual users in the link:/access-management/users#granting-permissions-to-users[users menu] or from an API version details page.

To add API permissions to a role do the following:

. Make sure you're in the right business group
. Pick the API Permissions tab
. Click in the green region labelled *Add an API resource by name*
. Type in the name of one of the APIs existing in your organization (if these APIs belong to a business group, they are only be available when creating a role in that same business group)
. Now you are be able to select what permissions to grant within what specific versions of that API . You can also pick *All versions* to assign permissions for all current and future versions of that API.

image:api+permissions.jpeg[api+permissions]

You can also assign API permissions directly to a specific user (not a role), you can do this by going to the *Users* menu, selecting a user, and then following the same steps as above. Note that the user must already be a member of your organization for you to grant permissions. As an alternative you can also do the following:

. Navigate to the API version page
. Select the Permissions tab
. Search for a user by name and assign a permission

image:api+permissions+on.jpeg[api+permissions+on]

If necessary, you can remove user permissions. Note that if users have been granted their permission via a role, managed by Organization Administrators on the Organization Administration page, you cannot view or remove those role-based permissions here.

=== Data Gateway Permissions

Data Gateway permissions are assigned directly to individual users in the link:/access-management/users#granting-permissions-to-users[users menu].

You can do this by going to the *Users* menu, selecting a user, and following these steps:

. Make sure you're in the right business group
. Pick the Data Gateway Permissions tab
. Click in the green region labelled * Add an environment by name*
. Type in the name of one of your environments existing in your organization (if these environments belong to a business group, they are only be available when creating a role in that same business group)
. Now you are able to select what permissions to grant within that environment. You can also pick *Select All* to assign all permissions related to that environment to that role.

Note that the user must already be a member of your organization for you to grant permissions.
