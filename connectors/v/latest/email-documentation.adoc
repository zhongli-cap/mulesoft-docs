:toc:               left
:toc-title:         Email Connector
:toclevels:         2
:last-update-label!:
:docinfo:
:source-highlighter: coderay
:icons: font


= Email Connector Documentation Reference

+++
Connector to send and list email messages to and from mailboxes
+++


== Configurations
---
[[imap]]
=== IMAP

+++
Configuration for operations that are performed through the IMAP (Internet Message Access Protocol) protocol.
+++

==== Parameters
[cols=".^20%,.^20%,.^35%,.^20%,^.^5%", options="header"]
|======================
| Name | Type | Description | Default Value | Required
|Name | String | The name of this configuration. With this name can be later referenced. | | *x*{nbsp}
| Connection a| * <<imap_imap-connection, IMAP Connection>> {nbsp}
* <<imap_imaps-connection, IMAPS Connection>> {nbsp}
 | The connection types that can be provided to this configuration. | | *x*{nbsp}
| Eagerly Fetch Content a| Boolean |  +++Indicates whether the retrieved emails should be opened and read. The default value is "true".+++ |  +++true+++ | {nbsp}
|======================

==== Connection Types
[[imap_imap-connection]]
===== IMAP Connection

+++
A ConnectionProvider that returns instances of imap based MailboxConnections.
+++

====== Parameters
[cols=".^20%,.^20%,.^35%,.^20%,^.^5%", options="header"]
|======================
| Name | Type | Description | Default Value | Required
| Properties a| Object |  +++An additional custom set of properties to configure the connection session.+++ |  | {nbsp}
| Timeout Unit a| Enumeration, one of:

** NANOSECONDS
** MICROSECONDS
** MILLISECONDS
** SECONDS
** MINUTES
** HOURS
** DAYS |  +++A TimeUnit which qualifies the #connectionTimeout, #writeTimeout and #readTimeout attributes.
<p>
Defaults to SECONDS+++ |  +++SECONDS+++ | {nbsp}
| Connection Timeout a| Number |  +++The socket connection timeout value. This attribute works in tandem with #timeoutUnit.
<p>
Defaults to 5+++ |  +++5+++ | {nbsp}
| Read Timeout a| Number |  +++The socket read timeout value. This attribute works in tandem with #timeoutUnit.
<p>
Defaults to 5+++ |  +++5+++ | {nbsp}
| Write Timeout a| Number |  +++The socket write timeout value. This attribute works in tandem with #timeoutUnit.
<p>
Defaults to 5+++ |  +++5+++ | {nbsp}
| Host a| String |  +++Host name of the mail server.+++ |  | *x*{nbsp}
| User a| String |  +++Username used to connect with the mail server.+++ |  | {nbsp}
| Password a| String |  +++Username password to connect with the mail server.+++ |  | {nbsp}
| Port a| String |  +++The port number of the mail server. '993' by default.+++ |  +++993+++ | {nbsp}
| Reconnection Strategy a| * <<reconnect>>
* <<reconnect-forever>> |  +++A retry strategy in case of connectivity errors+++ |  | {nbsp}
| Disable Validation a| Boolean |  +++Disables connection validation+++ |  | {nbsp}
| Pooling Profile a| <<PoolingProfile>> |  +++Characteristics of the connection pool+++ |  | {nbsp}
|======================
[[imap_imaps-connection]]
===== IMAPS Connection

+++
A ConnectionProvider that returns instances of imaps (secure) based MailboxConnections.
<p>
The returned connection is secured by TLS.
+++

====== Parameters
[cols=".^20%,.^20%,.^35%,.^20%,^.^5%", options="header"]
|======================
| Name | Type | Description | Default Value | Required
| Properties a| Object |  +++An additional custom set of properties to configure the connection session.+++ |  | {nbsp}
| Timeout Unit a| Enumeration, one of:

** NANOSECONDS
** MICROSECONDS
** MILLISECONDS
** SECONDS
** MINUTES
** HOURS
** DAYS |  +++A TimeUnit which qualifies the #connectionTimeout, #writeTimeout and #readTimeout attributes.
<p>
Defaults to SECONDS+++ |  +++SECONDS+++ | {nbsp}
| Connection Timeout a| Number |  +++The socket connection timeout value. This attribute works in tandem with #timeoutUnit.
<p>
Defaults to 5+++ |  +++5+++ | {nbsp}
| Read Timeout a| Number |  +++The socket read timeout value. This attribute works in tandem with #timeoutUnit.
<p>
Defaults to 5+++ |  +++5+++ | {nbsp}
| Write Timeout a| Number |  +++The socket write timeout value. This attribute works in tandem with #timeoutUnit.
<p>
Defaults to 5+++ |  +++5+++ | {nbsp}
| Host a| String |  +++Host name of the mail server.+++ |  | *x*{nbsp}
| User a| String |  +++Username used to connect with the mail server.+++ |  | {nbsp}
| Password a| String |  +++Username password to connect with the mail server.+++ |  | {nbsp}
| Port a| String |  +++The port number of the mail server. '993' by default.+++ |  +++993+++ | {nbsp}
| TLS Configuration a| <<Tls>> |  +++A factory for TLS contexts. A TLS context is configured with a key store and a trust store. Allows to create a TLS secured
connections.+++ |  | *x*{nbsp}
| Reconnection Strategy a| * <<reconnect>>
* <<reconnect-forever>> |  +++A retry strategy in case of connectivity errors+++ |  | {nbsp}
| Disable Validation a| Boolean |  +++Disables connection validation+++ |  | {nbsp}
| Pooling Profile a| <<PoolingProfile>> |  +++Characteristics of the connection pool+++ |  | {nbsp}
|======================

==== Associated Operations
* <<delete>> {nbsp}
* <<expungeFolder>> {nbsp}
* <<listImap>> {nbsp}
* <<markAsDeleted>> {nbsp}
* <<markAsRead>> {nbsp}
* <<store>> {nbsp}


---
[[pop3]]
=== POP3

+++
Configuration for operations that are performed through the POP3 (Post Office Protocol 3) protocol.
+++

==== Parameters
[cols=".^20%,.^20%,.^35%,.^20%,^.^5%", options="header"]
|======================
| Name | Type | Description | Default Value | Required
|Name | String | The name of this configuration. With this name can be later referenced. | | *x*{nbsp}
| Connection a| * <<pop3_pop3-connection, POP3 Connection>> {nbsp}
* <<pop3_pop3s-connection, POP3S Connection>> {nbsp}
 | The connection types that can be provided to this configuration. | | *x*{nbsp}
|======================

==== Connection Types
[[pop3_pop3-connection]]
===== POP3 Connection

+++
A ConnectionProvider that returns instances of pop3 based MailboxConnections.
+++

====== Parameters
[cols=".^20%,.^20%,.^35%,.^20%,^.^5%", options="header"]
|======================
| Name | Type | Description | Default Value | Required
| Properties a| Object |  +++An additional custom set of properties to configure the connection session.+++ |  | {nbsp}
| Timeout Unit a| Enumeration, one of:

** NANOSECONDS
** MICROSECONDS
** MILLISECONDS
** SECONDS
** MINUTES
** HOURS
** DAYS |  +++A TimeUnit which qualifies the #connectionTimeout, #writeTimeout and #readTimeout attributes.
<p>
Defaults to SECONDS+++ |  +++SECONDS+++ | {nbsp}
| Connection Timeout a| Number |  +++The socket connection timeout value. This attribute works in tandem with #timeoutUnit.
<p>
Defaults to 5+++ |  +++5+++ | {nbsp}
| Read Timeout a| Number |  +++The socket read timeout value. This attribute works in tandem with #timeoutUnit.
<p>
Defaults to 5+++ |  +++5+++ | {nbsp}
| Write Timeout a| Number |  +++The socket write timeout value. This attribute works in tandem with #timeoutUnit.
<p>
Defaults to 5+++ |  +++5+++ | {nbsp}
| Host a| String |  +++Host name of the mail server.+++ |  | *x*{nbsp}
| User a| String |  +++Username used to connect with the mail server.+++ |  | {nbsp}
| Password a| String |  +++Username password to connect with the mail server.+++ |  | {nbsp}
| Port a| String |  +++The port number of the mail server. '110' by default.+++ |  +++110+++ | {nbsp}
| Reconnection Strategy a| * <<reconnect>>
* <<reconnect-forever>> |  +++A retry strategy in case of connectivity errors+++ |  | {nbsp}
| Disable Validation a| Boolean |  +++Disables connection validation+++ |  | {nbsp}
| Pooling Profile a| <<PoolingProfile>> |  +++Characteristics of the connection pool+++ |  | {nbsp}
|======================
[[pop3_pop3s-connection]]
===== POP3S Connection

+++
A ConnectionProvider that returns instances of pop3s (secured) based MailboxConnections.
<p>
The returned connection is secured by TLS.
+++

====== Parameters
[cols=".^20%,.^20%,.^35%,.^20%,^.^5%", options="header"]
|======================
| Name | Type | Description | Default Value | Required
| Properties a| Object |  +++An additional custom set of properties to configure the connection session.+++ |  | {nbsp}
| Timeout Unit a| Enumeration, one of:

** NANOSECONDS
** MICROSECONDS
** MILLISECONDS
** SECONDS
** MINUTES
** HOURS
** DAYS |  +++A TimeUnit which qualifies the #connectionTimeout, #writeTimeout and #readTimeout attributes.
<p>
Defaults to SECONDS+++ |  +++SECONDS+++ | {nbsp}
| Connection Timeout a| Number |  +++The socket connection timeout value. This attribute works in tandem with #timeoutUnit.
<p>
Defaults to 5+++ |  +++5+++ | {nbsp}
| Read Timeout a| Number |  +++The socket read timeout value. This attribute works in tandem with #timeoutUnit.
<p>
Defaults to 5+++ |  +++5+++ | {nbsp}
| Write Timeout a| Number |  +++The socket write timeout value. This attribute works in tandem with #timeoutUnit.
<p>
Defaults to 5+++ |  +++5+++ | {nbsp}
| Host a| String |  +++Host name of the mail server.+++ |  | *x*{nbsp}
| User a| String |  +++Username used to connect with the mail server.+++ |  | {nbsp}
| Password a| String |  +++Username password to connect with the mail server.+++ |  | {nbsp}
| Port a| String |  +++The port number of the mail server. '995' by default.+++ |  +++995+++ | {nbsp}
| TLS Configuration a| <<Tls>> |  +++A factory for TLS contexts. A TLS context is configured with a key store and a trust store. Allows to create a TLS secured
connections.+++ |  | *x*{nbsp}
| Reconnection Strategy a| * <<reconnect>>
* <<reconnect-forever>> |  +++A retry strategy in case of connectivity errors+++ |  | {nbsp}
| Disable Validation a| Boolean |  +++Disables connection validation+++ |  | {nbsp}
| Pooling Profile a| <<PoolingProfile>> |  +++Characteristics of the connection pool+++ |  | {nbsp}
|======================

==== Associated Operations
* <<listPop3>> {nbsp}


---
[[smtp]]
=== SMTP

+++
Configuration for operations that are performed through the SMTP (Simple Mail Transfer Protocol) protocol.
+++

==== Parameters
[cols=".^20%,.^20%,.^35%,.^20%,^.^5%", options="header"]
|======================
| Name | Type | Description | Default Value | Required
|Name | String | The name of this configuration. With this name can be later referenced. | | *x*{nbsp}
| Connection a| * <<smtp_smtp-connection, SMTP Connection>> {nbsp}
* <<smtp_smtps-connection, SMTPS Connection>> {nbsp}
 | The connection types that can be provided to this configuration. | | *x*{nbsp}
| From a| String |  +++The "From" sender address. The person that is going to send the messages.+++ |  | {nbsp}
| Default Encoding a| String |  +++Default character encoding to be used in all the messages. If not specified, the default charset in the mule configuration
will be used+++ |  | {nbsp}
|======================

==== Connection Types
[[smtp_smtp-connection]]
===== SMTP Connection

+++
A ConnectionProvider that returns instances of smtp based SenderConnections.
+++

====== Parameters
[cols=".^20%,.^20%,.^35%,.^20%,^.^5%", options="header"]
|======================
| Name | Type | Description | Default Value | Required
| Properties a| Object |  +++An additional custom set of properties to configure the connection session.+++ |  | {nbsp}
| Timeout Unit a| Enumeration, one of:

** NANOSECONDS
** MICROSECONDS
** MILLISECONDS
** SECONDS
** MINUTES
** HOURS
** DAYS |  +++A TimeUnit which qualifies the #connectionTimeout, #writeTimeout and #readTimeout attributes.
<p>
Defaults to SECONDS+++ |  +++SECONDS+++ | {nbsp}
| Connection Timeout a| Number |  +++The socket connection timeout value. This attribute works in tandem with #timeoutUnit.
<p>
Defaults to 5+++ |  +++5+++ | {nbsp}
| Read Timeout a| Number |  +++The socket read timeout value. This attribute works in tandem with #timeoutUnit.
<p>
Defaults to 5+++ |  +++5+++ | {nbsp}
| Write Timeout a| Number |  +++The socket write timeout value. This attribute works in tandem with #timeoutUnit.
<p>
Defaults to 5+++ |  +++5+++ | {nbsp}
| Host a| String |  +++Host name of the mail server.+++ |  | *x*{nbsp}
| User a| String |  +++Username used to connect with the mail server.+++ |  | {nbsp}
| Password a| String |  +++Username password to connect with the mail server.+++ |  | {nbsp}
| Port a| String |  +++The port number of the mail server. '25' by default.+++ |  +++25+++ | {nbsp}
| Reconnection Strategy a| * <<reconnect>>
* <<reconnect-forever>> |  +++A retry strategy in case of connectivity errors+++ |  | {nbsp}
| Disable Validation a| Boolean |  +++Disables connection validation+++ |  | {nbsp}
| Pooling Profile a| <<PoolingProfile>> |  +++Characteristics of the connection pool+++ |  | {nbsp}
|======================
[[smtp_smtps-connection]]
===== SMTPS Connection

+++
A ConnectionProvider that returns instances of smtps based MailboxConnections.
<p>
The returned connection is secured by TLS.
+++

====== Parameters
[cols=".^20%,.^20%,.^35%,.^20%,^.^5%", options="header"]
|======================
| Name | Type | Description | Default Value | Required
| Properties a| Object |  +++An additional custom set of properties to configure the connection session.+++ |  | {nbsp}
| Timeout Unit a| Enumeration, one of:

** NANOSECONDS
** MICROSECONDS
** MILLISECONDS
** SECONDS
** MINUTES
** HOURS
** DAYS |  +++A TimeUnit which qualifies the #connectionTimeout, #writeTimeout and #readTimeout attributes.
<p>
Defaults to SECONDS+++ |  +++SECONDS+++ | {nbsp}
| Connection Timeout a| Number |  +++The socket connection timeout value. This attribute works in tandem with #timeoutUnit.
<p>
Defaults to 5+++ |  +++5+++ | {nbsp}
| Read Timeout a| Number |  +++The socket read timeout value. This attribute works in tandem with #timeoutUnit.
<p>
Defaults to 5+++ |  +++5+++ | {nbsp}
| Write Timeout a| Number |  +++The socket write timeout value. This attribute works in tandem with #timeoutUnit.
<p>
Defaults to 5+++ |  +++5+++ | {nbsp}
| Host a| String |  +++Host name of the mail server.+++ |  | *x*{nbsp}
| User a| String |  +++Username used to connect with the mail server.+++ |  | {nbsp}
| Password a| String |  +++Username password to connect with the mail server.+++ |  | {nbsp}
| Port a| String |  +++The port number of the mail server. '465' by default.+++ |  +++465+++ | {nbsp}
| TLS Configuration a| <<Tls>> |  +++A factory for TLS contexts. A TLS context is configured with a key store and a trust store. Allows to create a TLS secured
connections.+++ |  | *x*{nbsp}
| Reconnection Strategy a| * <<reconnect>>
* <<reconnect-forever>> |  +++A retry strategy in case of connectivity errors+++ |  | {nbsp}
| Disable Validation a| Boolean |  +++Disables connection validation+++ |  | {nbsp}
| Pooling Profile a| <<PoolingProfile>> |  +++Characteristics of the connection pool+++ |  | {nbsp}
|======================

==== Associated Operations
* <<send>> {nbsp}



== Operations

[[delete]]
=== Delete
`<email:delete>`

+++
Eliminates from the mailbox the email with id emailId.
<p>
For IMAP mailboxes all the messages scheduled for deletion (marked as DELETED) will also be erased from the folder.
+++

==== Parameters
[cols=".^20%,.^20%,.^35%,.^20%,^.^5%", options="header"]
|======================
| Name | Type | Description | Default Value | Required
| Configuration | String | The name of the configuration to use. | | *x*{nbsp}
| Mailbox Folder a| String |  +++Mailbox folder where the emails are going to be deleted+++ |  +++INBOX+++ | {nbsp}
| Email ID a| Number |  +++Email ID Number of the email to delete.+++ |  | *x*{nbsp}
|======================


==== For Configurations.
* <<imap>> {nbsp}

==== Throws
* EMAIL:RETRY_EXHAUSTED {nbsp}
* EMAIL:ACCESSING_FOLDER {nbsp}
* EMAIL:EMAIL_NOT_FOUND {nbsp}
* EMAIL:CONNECTIVITY {nbsp}


[[expungeFolder]]
=== Expunge Folder
`<email:expunge-folder>`

+++
Eliminates from the mailbox all the messages scheduled for deletion with the DELETED flag set.
deleted
+++

==== Parameters
[cols=".^20%,.^20%,.^35%,.^20%,^.^5%", options="header"]
|======================
| Name | Type | Description | Default Value | Required
| Configuration | String | The name of the configuration to use. | | *x*{nbsp}
| Mailbox Folder a| String |  +++Mailbox folder where the emails with the 'DELETED' flag are going to be scheduled to be definitely+++ |  +++INBOX+++ | {nbsp}
|======================


==== For Configurations.
* <<imap>> {nbsp}

==== Throws
* EMAIL:RETRY_EXHAUSTED {nbsp}
* EMAIL:ACCESSING_FOLDER {nbsp}
* EMAIL:CONNECTIVITY {nbsp}


[[listImap]]
=== List Imap
`<email:list-imap>`

+++
List all the emails (with pagination) in the configured imap mailBoxFolder that match with the specified imapMatcher
criteria.
it's corresponding IMAPEmailAttributes.
+++

==== Parameters
[cols=".^20%,.^20%,.^35%,.^20%,^.^5%", options="header"]
|======================
| Name | Type | Description | Default Value | Required
| Configuration | String | The name of the configuration to use. | | *x*{nbsp}
| Mailbox Folder a| String |  +++Mailbox folder where the emails are going to be fetched+++ |  +++INBOX+++ | {nbsp}
| Match with a| <<imap-matcher>> |  +++Email Matcher which gives the capability of filter the retrieved emails+++ |  | {nbsp}
| Delete After Retrieve a| Boolean |  +++Specifies if the returned emails must be deleted after being retrieved or not.+++ |  +++false+++ | {nbsp}
| Output Type a| Enumeration, one of:

** STRING
** MULTIPART
** ANY |  ++++++ |  +++ANY+++ | {nbsp}
| Page Size a| Number |  ++++++ |  +++10+++ | {nbsp}
| Target Variable a| String |  +++The name of a variable on which the operation's output will be placed+++ |  | {nbsp}
|======================

==== Output
[cols=".^50%,.^50%"]
|======================
| *Type* a| Any
| *Attributes Type* a| <<IMAPEmailAttributes>>
|======================

==== For Configurations.
* <<imap>> {nbsp}

==== Throws
* EMAIL:RETRY_EXHAUSTED {nbsp}
* EMAIL:CONNECTIVITY {nbsp}


[[markAsDeleted]]
=== Mark As Deleted
`<email:mark-as-deleted>`

+++
Marks an incoming email as DELETED, this way the marked email(s) are scheduled for deletion when the folder closes, this
means that the email is not physically eliminated from the mailbox folder, but it's state changes.
<p>
All DELETED marked emails are going to be eliminated from the mailbox when one of
IMAPOperations#expungeFolder(MailboxConnection, String) or
IMAPOperations#delete(MailboxConnection, String, long) is executed.
<p>
This operation targets a single email.
+++

==== Parameters
[cols=".^20%,.^20%,.^35%,.^20%,^.^5%", options="header"]
|======================
| Name | Type | Description | Default Value | Required
| Configuration | String | The name of the configuration to use. | | *x*{nbsp}
| Mailbox Folder a| String |  +++Mailbox folder where the emails are going to be marked as deleted+++ |  +++INBOX+++ | {nbsp}
| Email ID a| Number |  +++Email ID Number of the email to mark as deleted.+++ |  | *x*{nbsp}
|======================


==== For Configurations.
* <<imap>> {nbsp}

==== Throws
* EMAIL:RETRY_EXHAUSTED {nbsp}
* EMAIL:ACCESSING_FOLDER {nbsp}
* EMAIL:EMAIL_NOT_FOUND {nbsp}
* EMAIL:CONNECTIVITY {nbsp}


[[markAsRead]]
=== Mark As Read
`<email:mark-as-read>`

+++
Marks a single email as READ changing it's state in the specified mailbox folder.
<p>
This operation can targets a single email.
+++

==== Parameters
[cols=".^20%,.^20%,.^35%,.^20%,^.^5%", options="header"]
|======================
| Name | Type | Description | Default Value | Required
| Configuration | String | The name of the configuration to use. | | *x*{nbsp}
| Mailbox Folder a| String |  +++Folder where the emails are going to be marked as read+++ |  +++INBOX+++ | {nbsp}
| Email ID a| Number |  +++Email ID Number of the email to mark as read.+++ |  | *x*{nbsp}
|======================


==== For Configurations.
* <<imap>> {nbsp}

==== Throws
* EMAIL:RETRY_EXHAUSTED {nbsp}
* EMAIL:ACCESSING_FOLDER {nbsp}
* EMAIL:EMAIL_NOT_FOUND {nbsp}
* EMAIL:CONNECTIVITY {nbsp}


[[store]]
=== Store
`<email:store>`

+++
Stores the specified email of id emailId into the configured localDirectory.
<p>
The emails are stored as mime message in a ".txt" format.
<p>
The name of the email file is composed by the subject and the received date of the email.
the end.
+++

==== Parameters
[cols=".^20%,.^20%,.^35%,.^20%,^.^5%", options="header"]
|======================
| Name | Type | Description | Default Value | Required
| Configuration | String | The name of the configuration to use. | | *x*{nbsp}
| Local Directory a| String |  +++Local directory where the emails are going to be stored.+++ |  | *x*{nbsp}
| Mailbox Folder a| String |  +++Name of the folder where the email(s) is going to be stored.+++ |  +++INBOX+++ | {nbsp}
| File Name a| String |  +++Name of the file that is going to be stored. The operation will append the email number and received date in+++ |  | {nbsp}
| Email ID a| Number |  +++Email ID Number of the email to store.+++ |  | *x*{nbsp}
| Should Overwrite a| Boolean |  +++Whether to overwrite a file that already exist+++ |  +++false+++ | {nbsp}
|======================


==== For Configurations.
* <<imap>> {nbsp}

==== Throws
* EMAIL:RETRY_EXHAUSTED {nbsp}
* EMAIL:CONNECTIVITY {nbsp}


[[listPop3]]
=== List Pop3
`<email:list-pop3>`

+++
List all the emails (with pagination) in the configured pop3 mailBoxFolder that match with the specified pop3Matcher
criteria.
<p>
As the POP3 protocol does not support the capability to find specific emails from its UID in a folder to move/delete it. a
parameter deleteAfterRetrieve is available for deleting the emails from the server right after being retrieved.
it's corresponding IMAPEmailAttributes.
+++

==== Parameters
[cols=".^20%,.^20%,.^35%,.^20%,^.^5%", options="header"]
|======================
| Name | Type | Description | Default Value | Required
| Configuration | String | The name of the configuration to use. | | *x*{nbsp}
| Mailbox Folder a| String |  +++Mailbox folder where the emails are going to be fetched+++ |  +++INBOX+++ | {nbsp}
| Match with a| <<pop3-matcher>> |  +++Email Matcher which gives the capability of filter the retrieved emails+++ |  | {nbsp}
| Delete After Retrieve a| Boolean |  +++Specifies if the returned emails must be deleted after being retrieved or not.+++ |  +++false+++ | {nbsp}
| Output Type a| Enumeration, one of:

** STRING
** MULTIPART
** ANY |  ++++++ |  +++ANY+++ | {nbsp}
| Page Size a| Number |  ++++++ |  +++10+++ | {nbsp}
| Target Variable a| String |  +++The name of a variable on which the operation's output will be placed+++ |  | {nbsp}
|======================

==== Output
[cols=".^50%,.^50%"]
|======================
| *Type* a| Any
| *Attributes Type* a| <<POP3EmailAttributes>>
|======================

==== For Configurations.
* <<pop3>> {nbsp}

==== Throws
* EMAIL:RETRY_EXHAUSTED {nbsp}
* EMAIL:CONNECTIVITY {nbsp}


[[send]]
=== Send
`<email:send>`

+++
Sends an email message. The message will be sent to all recipient toAddresses, ccAddresses,
bccAddresses specified in the message.
<p>
The content of the message aims to be some type of text (text/plan, text/html) and its composed by the body and it's content
type. If no content is specified then the incoming payload it's going to be converted into plain text if possible.
+++

==== Parameters
[cols=".^20%,.^20%,.^35%,.^20%,^.^5%", options="header"]
|======================
| Name | Type | Description | Default Value | Required
| Configuration | String | The name of the configuration to use. | | *x*{nbsp}
| Email Builder a| <<EmailBuilder>> |  +++The builder of the email that is going to be send.+++ |  | *x*{nbsp}
|======================


==== For Configurations.
* <<smtp>> {nbsp}

==== Throws
* EMAIL:RETRY_EXHAUSTED {nbsp}
* EMAIL:ATTACHMENT {nbsp}
* EMAIL:CONNECTIVITY {nbsp}



== Types
[[reconnect]]
=== Reconnect

[cols=".^50%,.^50%", options="header"]
|======================
| Field | Type 
| Frequency a| Number
| Count a| Number
| Blocking a| Boolean
|======================
    
[[reconnect-forever]]
=== Reconnect Forever

[cols=".^50%,.^50%", options="header"]
|======================
| Field | Type 
| Frequency a| Number
|======================
    
[[PoolingProfile]]
=== Pooling Profile

[cols=".^50%,.^50%", options="header"]
|======================
| Field | Type 
| Max Active a| Number
| Max Idle a| Number
| Max Wait a| Number
| Min Eviction Millis a| Number
| Eviction Check Interval Millis a| Number
| Exhausted Action a| Enumeration, one of:

** WHEN_EXHAUSTED_GROW
** WHEN_EXHAUSTED_WAIT
** WHEN_EXHAUSTED_FAIL
| Initialisation Policy a| Enumeration, one of:

** INITIALISE_NONE
** INITIALISE_ONE
** INITIALISE_ALL
| Disabled a| Boolean
|======================
    
[[Tls]]
=== Tls

[cols=".^50%,.^50%", options="header"]
|======================
| Field | Type 
| Enabled Protocols a| String
| Enabled Cipher Suites a| String
| Trust Store a| <<TrustStore>>
| Key Store a| <<KeyStore>>
|======================
    
[[TrustStore]]
=== Trust Store

[cols=".^50%,.^50%", options="header"]
|======================
| Field | Type 
| Path a| String
| Password a| String
| Type a| * Enumeration, one of:

** jks
** jceks
** pkcs12
* String
| Algorithm a| String
| Insecure a| Boolean
|======================
    
[[KeyStore]]
=== Key Store

[cols=".^50%,.^50%", options="header"]
|======================
| Field | Type 
| Path a| String
| Type a| * Enumeration, one of:

** jks
** jceks
** pkcs12
* String
| Alias a| String
| Key Password a| String
| Password a| String
| Algorithm a| String
|======================
    
[[IMAPEmailAttributes]]
=== IMAP Email Attributes

[cols=".^50%,.^50%", options="header"]
|======================
| Field | Type 
| Bcc Addresses a| Array of String
| Cc Addresses a| Array of String
| Flags a| <<EmailFlags>>
| From Addresses a| Array of String
| Headers a| Object
| Id a| Number
| Number a| Number
| Received Date a| DateTime
| Reply To Addresses a| Array of String
| Sent Date a| DateTime
| Subject a| String
| To Addresses a| Array of String
|======================
    
[[EmailFlags]]
=== Email Flags

[cols=".^50%,.^50%", options="header"]
|======================
| Field | Type 
| Answered a| Boolean
| Deleted a| Boolean
| Draft a| Boolean
| Recent a| Boolean
| Seen a| Boolean
|======================
    
[[imap-matcher]]
=== Imap Matcher

[cols=".^50%,.^50%", options="header"]
|======================
| Field | Type 
| Seen a| Boolean
| Answered a| Boolean
| Deleted a| Boolean
| Recent a| Boolean
| Received Since a| DateTime
| Received Until a| DateTime
| Sent Since a| DateTime
| Sent Until a| DateTime
| Subject Regex a| String
| From Regex a| String
|======================
    
[[POP3EmailAttributes]]
=== POP3 Email Attributes

[cols=".^50%,.^50%", options="header"]
|======================
| Field | Type 
| Bcc Addresses a| Array of String
| Cc Addresses a| Array of String
| From Addresses a| Array of String
| Headers a| Object
| Id a| Number
| Number a| Number
| Received Date a| DateTime
| Reply To Addresses a| Array of String
| Sent Date a| DateTime
| Subject a| String
| To Addresses a| Array of String
|======================
    
[[pop3-matcher]]
=== Pop3 Matcher

[cols=".^50%,.^50%", options="header"]
|======================
| Field | Type 
| Received Since a| DateTime
| Received Until a| DateTime
| Sent Since a| DateTime
| Sent Until a| DateTime
| Subject Regex a| String
| From Regex a| String
|======================
    
[[EmailBuilder]]
=== Email Builder

[cols=".^50%,.^50%", options="header"]
|======================
| Field | Type 
| From Address a| String
| To Addresses a| Array of String
| Cc Addresses a| Array of String
| Bcc Addresses a| Array of String
| Reply To Addresses a| Array of String
| Subject a| String
| Body a| <<EmailBody>>
| Attachments a| Array of <<EmailAttachment>>
| Headers a| Object
|======================
    
[[EmailBody]]
=== Email Body

[cols=".^50%,.^50%", options="header"]
|======================
| Field | Type 
| Content a| String
| Content Type a| String
| Encoding a| String
|======================
    
[[EmailAttachment]]
=== Email Attachment

[cols=".^50%,.^50%", options="header"]
|======================
| Field | Type 
| Id a| String
| Content a| Any
| Content Type a| String
|======================
    


