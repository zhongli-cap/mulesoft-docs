:toc:               left
:toc-title:         JMS Connector
:toclevels:         2
:last-update-label!:
:docinfo:
:source-highlighter: coderay
:icons: font


= JMS Connector Documentation Reference



== Configurations
---
[[config]]
=== Config

+++
<code>JmsExtension</code> is a JMS 1.0.2b, 1.1 and 2.0 compliant MuleSoft Extension,
used to consume and produce JMS Messages.
The Extension supports all JMS functionality including topics and queues,
durable subscribers, acknowledgement modes and local transactions.
+++

==== Parameters
[cols=".^20%,.^20%,.^35%,.^20%,^.^5%", options="header"]
|======================
| Name | Type | Description | Default Value | Required
|Name | String | The name of this configuration. With this name can be later referenced. | | *x*{nbsp}
| Encoding a| String |  ++++++ |  | {nbsp}
| Content Type a| String |  ++++++ |  | {nbsp}
| Consumer Config a| <<JmsConsumerConfig>> |  ++++++ |  | {nbsp}
| Producer Config a| <<JmsProducerConfig>> |  ++++++ |  | {nbsp}
|======================


==== Associated Operations
* <<consume>> {nbsp}
* <<publish>> {nbsp}
* <<publishConsume>> {nbsp}

==== Associated Sources
* <<listener>> {nbsp}


== Operations

[[consume]]
=== Consume
`<http://www.mulesoft.org/schema/mule/jms:consume>`

+++
Operation that allows the user to consume a single Message from a given Destination.
extra configurations that are required based on the destination type.
and headers as Result#getAttributes
+++

==== Parameters
[cols=".^20%,.^20%,.^35%,.^20%,^.^5%", options="header"]
|======================
| Name | Type | Description | Default Value | Required
| Configuration | String | The name of the configuration to use. | | *x*{nbsp}
| Destination a| String |  +++the name of the Destination from where the Message should be consumed+++ |  | *x*{nbsp}
| Consumer Type a| One of:

* <<queue-consumer>>
* <<topic-consumer>> |  +++the type of the MessageConsumer that is required for the given destination, along with any+++ |  | {nbsp}
| Ack Mode a| Enumeration, one of:

** NONE
** AUTO
** MANUAL
** DUPS_OK
** TRANSACTED |  +++the AckMode that will be configured over the Message and Session+++ |  | {nbsp}
| Selector a| String |  +++a custom JMS selector for filtering the messages+++ |  | {nbsp}
| Content Type a| String |  +++the Message's content content type+++ |  | {nbsp}
| Encoding a| String |  +++the Message's content encoding+++ |  | {nbsp}
| Maximum Wait a| Number |  +++maximum time to wait for a message before timing out+++ |  +++10000+++ | {nbsp}
| Maximum Wait Unit a| Enumeration, one of:

** NANOSECONDS
** MICROSECONDS
** MILLISECONDS
** SECONDS
** MINUTES
** HOURS
** DAYS |  +++Time unit to be used in the maximumWaitTime configurations+++ |  +++MILLISECONDS+++ | {nbsp}
| Target Variable a| String |  +++The name of a variable on which the operation's output will be placed+++ |  | {nbsp}
|======================

==== Output
[cols=".^50%,.^50%"]
|======================
| *Type* a| Any
| *Attributes Type* a| <<JmsAttributes>>
|======================

==== For Configurations.
* <<config>> {nbsp}

==== Throws
* JMS:CONNECTIVITY {nbsp}
* JMS:DESTINATION_NOT_FOUND {nbsp}
* JMS:CONSUMING {nbsp}
* JMS:ACK {nbsp}
* JMS:RETRY_EXHAUSTED {nbsp}
* JMS:TIMEOUT {nbsp}


[[publish]]
=== Publish
`<http://www.mulesoft.org/schema/mule/jms:publish>`

+++
Operation that allows the user to send a Message to a JMS Destination
+++

==== Parameters
[cols=".^20%,.^20%,.^35%,.^20%,^.^5%", options="header"]
|======================
| Name | Type | Description | Default Value | Required
| Configuration | String | The name of the configuration to use. | | *x*{nbsp}
| Destination a| String |  +++the name of the Destination where the Message should be sent+++ |  | *x*{nbsp}
| Destination Type a| Enumeration, one of:

** QUEUE
** TOPIC |  ++++++ |  +++QUEUE+++ | {nbsp}
| Message Builder a| <<MessageBuilder>> |  +++the MessageBuilder  used to create the Message to be sent+++ |  | {nbsp}
| Persistent Delivery a| Boolean |  +++true if DeliveryMode#PERSISTENT should be used+++ |  | {nbsp}
| Priority a| Number |  +++the Message#getJMSPriority to be set+++ |  | {nbsp}
| Time To Live a| Number |  +++the time the message will be in the broker before it expires and is discarded+++ |  | {nbsp}
| Time To Live Unit a| Enumeration, one of:

** NANOSECONDS
** MICROSECONDS
** MILLISECONDS
** SECONDS
** MINUTES
** HOURS
** DAYS |  +++unit to be used in the timeToLive configurations+++ |  | {nbsp}
| Disable Message Id a| Boolean |  ++++++ |  | {nbsp}
| Disable Message Timestamp a| Boolean |  ++++++ |  | {nbsp}
| Delivery Delay a| Number |  +++Only used by JMS 2.0. Sets the delivery delay to be applied in order to postpone the Message delivery+++ |  | {nbsp}
| Delivery Delay Unit a| Enumeration, one of:

** NANOSECONDS
** MICROSECONDS
** MILLISECONDS
** SECONDS
** MINUTES
** HOURS
** DAYS |  +++Time unit to be used in the deliveryDelay configurations+++ |  | {nbsp}
|======================


==== For Configurations.
* <<config>> {nbsp}

==== Throws
* JMS:CONNECTIVITY {nbsp}
* JMS:PUBLISHING {nbsp}
* JMS:DESTINATION_NOT_FOUND {nbsp}
* JMS:ILLEGAL_BODY {nbsp}
* JMS:RETRY_EXHAUSTED {nbsp}


[[publishConsume]]
=== Publish Consume
`<http://www.mulesoft.org/schema/mule/jms:publish-consume>`

+++
Operation that allows the user to send a message to a JMS Destination and waits for a response
either to the provided ReplyTo destination or to a temporary Destination created dynamically
and headers as Result#getAttributes
+++

==== Parameters
[cols=".^20%,.^20%,.^35%,.^20%,^.^5%", options="header"]
|======================
| Name | Type | Description | Default Value | Required
| Configuration | String | The name of the configuration to use. | | *x*{nbsp}
| Destination a| String |  +++the name of the Destination where the Message should be sent+++ |  | *x*{nbsp}
| Message Builder a| <<MessageBuilder>> |  +++the MessageBuilder used to create the Message to be sent+++ |  | {nbsp}
| Ack Mode a| Enumeration, one of:

** NONE
** AUTO
** MANUAL
** DUPS_OK
** TRANSACTED |  +++the AckMode that will be configured over the Message and Session+++ |  | {nbsp}
| Maximum Wait a| Number |  ++++++ |  +++10000+++ | {nbsp}
| Maximum Wait Unit a| Enumeration, one of:

** NANOSECONDS
** MICROSECONDS
** MILLISECONDS
** SECONDS
** MINUTES
** HOURS
** DAYS |  ++++++ |  +++MILLISECONDS+++ | {nbsp}
| Content Type a| String |  ++++++ |  | {nbsp}
| Encoding a| String |  ++++++ |  | {nbsp}
| Target Variable a| String |  +++The name of a variable on which the operation's output will be placed+++ |  | {nbsp}
| Persistent Delivery a| Boolean |  ++++++ |  | {nbsp}
| Priority a| Number |  ++++++ |  | {nbsp}
| Time To Live a| Number |  ++++++ |  | {nbsp}
| Time To Live Unit a| Enumeration, one of:

** NANOSECONDS
** MICROSECONDS
** MILLISECONDS
** SECONDS
** MINUTES
** HOURS
** DAYS |  ++++++ |  | {nbsp}
| Disable Message Id a| Boolean |  ++++++ |  | {nbsp}
| Disable Message Timestamp a| Boolean |  ++++++ |  | {nbsp}
| Delivery Delay a| Number |  ++++++ |  | {nbsp}
| Delivery Delay Unit a| Enumeration, one of:

** NANOSECONDS
** MICROSECONDS
** MILLISECONDS
** SECONDS
** MINUTES
** HOURS
** DAYS |  ++++++ |  | {nbsp}
|======================

==== Output
[cols=".^50%,.^50%"]
|======================
| *Type* a| Any
| *Attributes Type* a| <<JmsAttributes>>
|======================

==== For Configurations.
* <<config>> {nbsp}

==== Throws
* JMS:CONNECTIVITY {nbsp}
* JMS:PUBLISHING {nbsp}
* JMS:DESTINATION_NOT_FOUND {nbsp}
* JMS:CONSUMING {nbsp}
* JMS:ILLEGAL_BODY {nbsp}
* JMS:ACK {nbsp}
* JMS:RETRY_EXHAUSTED {nbsp}
* JMS:TIMEOUT {nbsp}


== Sources

[[listener]]
=== Listener
`<http://www.mulesoft.org/schema/mule/jms:listener>`


==== Parameters
[cols=".^20%,.^20%,.^35%,.^20%,^.^5%", options="header"]
|======================
| Name | Type | Description | Default Value | Required
| Configuration | String | The name of the configuration to use. | | *x*{nbsp}
| Destination a| String |  ++++++ |  | *x*{nbsp}
| Consumer Type a| One of:

* <<queue-consumer>>
* <<topic-consumer>> |  ++++++ |  | {nbsp}
| Ack Mode a| Enumeration, one of:

** NONE
** AUTO
** MANUAL
** DUPS_OK
** TRANSACTED |  ++++++ |  | {nbsp}
| Selector a| String |  ++++++ |  | {nbsp}
| Content Type a| String |  ++++++ |  | {nbsp}
| Encoding a| String |  ++++++ |  | {nbsp}
| Synchronous a| Boolean |  ++++++ |  +++true+++ | {nbsp}
| Redelivery Policy a| <<RedeliveryPolicy>> |  +++Defines a policy for processing the redelivery of the same message+++ |  | {nbsp}
| Reconnection Strategy a| * <<reconnect>>
* <<reconnect-forever>> |  +++A retry strategy in case of connectivity errors+++ |  | {nbsp}
| Response a| <<response-builder>> |  ++++++ |  | {nbsp}
|======================

==== Output
[cols=".^50%,.^50%"]
|======================
| *Type* a| Any
| *Attributes Type* a| <<JmsAttributes>>
|======================

==== For Configurations.
* <<config>> {nbsp}



== Types
[[JmsConsumerConfig]]
=== Jms Consumer Config

[cols=".^30%,.^40%,.^30%", options="header"]
|======================
| Field | Type | Default Value
| Ack Mode a| Enumeration, one of:

** NONE
** AUTO
** MANUAL
** DUPS_OK
** TRANSACTED | 
| Consumer Type a| One of:

* <<queue-consumer>>
* <<topic-consumer>> | 
| Selector a| String | 
| Max Redelivery a| Number | 
|======================
    
[[JmsProducerConfig]]
=== Jms Producer Config

[cols=".^30%,.^40%,.^30%", options="header"]
|======================
| Field | Type | Default Value
| Persistent Delivery a| Boolean | 
| Priority a| Number | 
| Time To Live a| Number | 
| Time To Live Unit a| Enumeration, one of:

** NANOSECONDS
** MICROSECONDS
** MILLISECONDS
** SECONDS
** MINUTES
** HOURS
** DAYS | 
| Disable Message Id a| Boolean | 
| Disable Message Timestamp a| Boolean | 
| Delivery Delay a| Number | 
| Delivery Delay Unit a| Enumeration, one of:

** NANOSECONDS
** MICROSECONDS
** MILLISECONDS
** SECONDS
** MINUTES
** HOURS
** DAYS | 
| Jms Type a| String | 
|======================
    
[[RedeliveryPolicy]]
=== Redelivery Policy

[cols=".^30%,.^40%,.^30%", options="header"]
|======================
| Field | Type | Default Value
| Max Redelivery Count a| Number | 5
| Use Secure Hash a| Boolean | true
| Message Digest Algorithm a| String | 
| Id Expression a| String | 
| Object Store Ref a| String | 
|======================
    
[[reconnect]]
=== Reconnect

[cols=".^30%,.^40%,.^30%", options="header"]
|======================
| Field | Type | Default Value
| Frequency a| Number | 2000
| Count a| Number | 2
| Blocking a| Boolean | true
|======================
    
[[reconnect-forever]]
=== Reconnect Forever

[cols=".^30%,.^40%,.^30%", options="header"]
|======================
| Field | Type | Default Value
| Frequency a| Number | 2000
|======================
    
[[response-builder]]
=== Response Builder

[cols=".^30%,.^40%,.^30%", options="header"]
|======================
| Field | Type | Default Value
| Message Builder a| <<MessageBuilder>> | 
| Overrides a| <<JmsPublishParameters>> | 
|======================
    
[[MessageBuilder]]
=== Message Builder

[cols=".^30%,.^40%,.^30%", options="header"]
|======================
| Field | Type | Default Value
| Body a| Any | 
| Jms Type a| String | 
| Correlation Id a| String | 
| Send Content Type a| Boolean | 
| Content Type a| String | 
| Send Encoding a| Boolean | 
| Encoding a| String | 
| Reply To a| <<JmsDestination>> | 
| Properties a| Object | 
| Jmsx Properties a| <<JmsxProperties>> | 
|======================
    
[[JmsDestination]]
=== Jms Destination

[cols=".^30%,.^40%,.^30%", options="header"]
|======================
| Field | Type | Default Value
| Destination a| String | 
| Destination Type a| Enumeration, one of:

** QUEUE
** TOPIC | 
|======================
    
[[JmsxProperties]]
=== Jmsx Properties

[cols=".^30%,.^40%,.^30%", options="header"]
|======================
| Field | Type | Default Value
| Jmsx User ID a| String | 
| Jmsx App ID a| String | 
| Jmsx Delivery Count a| Number | 
| Jmsx Group ID a| String | 
| Jmsx Group Seq a| Number | 
| Jmsx Producer TXID a| String | 
| Jmsx Consumer TXID a| String | 
| Jmsx Rcv Timestamp a| Number | 
|======================
    
[[JmsPublishParameters]]
=== Jms Publish Parameters

[cols=".^30%,.^40%,.^30%", options="header"]
|======================
| Field | Type | Default Value
| Persistent Delivery a| Boolean | 
| Priority a| Number | 
| Time To Live a| Number | 
| Time To Live Unit a| Enumeration, one of:

** NANOSECONDS
** MICROSECONDS
** MILLISECONDS
** SECONDS
** MINUTES
** HOURS
** DAYS | 
| Disable Message Id a| Boolean | 
| Disable Message Timestamp a| Boolean | 
| Delivery Delay a| Number | 
| Delivery Delay Unit a| Enumeration, one of:

** NANOSECONDS
** MICROSECONDS
** MILLISECONDS
** SECONDS
** MINUTES
** HOURS
** DAYS | 
|======================
    
[[PoolingProfile]]
=== Pooling Profile

[cols=".^30%,.^40%,.^30%", options="header"]
|======================
| Field | Type | Default Value
| Max Active a| Number | 5
| Max Idle a| Number | 5
| Max Wait a| Number | 4000
| Min Eviction Millis a| Number | 1800000
| Eviction Check Interval Millis a| Number | -1
| Exhausted Action a| Enumeration, one of:

** WHEN_EXHAUSTED_GROW
** WHEN_EXHAUSTED_WAIT
** WHEN_EXHAUSTED_FAIL | WHEN_EXHAUSTED_GROW
| Initialisation Policy a| Enumeration, one of:

** INITIALISE_NONE
** INITIALISE_ONE
** INITIALISE_ALL | INITIALISE_ONE
| Disabled a| Boolean | false
|======================
    
[[ActiveMQConnectionFactoryConfiguration]]
=== Active MQ Connection Factory Configuration

[cols=".^30%,.^40%,.^30%", options="header"]
|======================
| Field | Type | Default Value
| Broker Url a| String | 
| Enable Xa a| Boolean | 
| Initial Redelivery Delay a| Number | 
| Redelivery Delay a| Number | 
| Max Redelivery a| Number | 
|======================
    
[[queue-consumer]]
=== Queue Consumer

[cols=".^30%,.^40%,.^30%", options="header"]
|======================
| Field | Type | Default Value
| Topic a| Boolean | 
|======================
    
[[topic-consumer]]
=== Topic Consumer

[cols=".^30%,.^40%,.^30%", options="header"]
|======================
| Field | Type | Default Value
| Is Durable a| Boolean | 
| Is Shared a| Boolean | 
| No Local a| Boolean | 
| Subscription Name a| String | 
|======================
    
[[default-caching]]
=== Default Caching

[cols=".^30%,.^40%,.^30%", options="header"]
|======================
| Field | Type | Default Value
| Session Cache Size a| Number | 
| Cache Producers a| Boolean | 
| Cache Consumers a| Boolean | 
|======================
    
[[JndiConnectionFactory]]
=== Jndi Connection Factory

[cols=".^30%,.^40%,.^30%", options="header"]
|======================
| Field | Type | Default Value
| Connection Factory Jndi Name a| String | 
| Lookup Destination a| Enumeration, one of:

** NEVER
** ALWAYS
** TRY_ALWAYS | 
| Name Resolver Provider a| <<JndiNameResolverProvider>> | 
|======================
    
[[JndiNameResolverProvider]]
=== Jndi Name Resolver Provider

[cols=".^30%,.^40%,.^30%", options="header"]
|======================
| Field | Type | Default Value
| Custom Jndi Name Resolver a| One of:

* <<SimpleJndiNameResolver>>
* <<CachedJndiNameResolver>> | 
| Name Resolver Builder a| <<JndiNameResolverProperties>> | 
|======================
    
[[JndiNameResolverProperties]]
=== Jndi Name Resolver Properties

[cols=".^30%,.^40%,.^30%", options="header"]
|======================
| Field | Type | Default Value
| Jndi Initial Context Factory a| String | 
| Jndi Provider Url a| String | 
| Provider Properties a| Object | 
|======================
    
[[SimpleJndiNameResolver]]
=== Simple Jndi Name Resolver

[cols=".^30%,.^40%,.^30%", options="header"]
|======================
| Field | Type | Default Value
| Context Factory a| Any | 
| Jndi Initial Factory a| String | 
| Jndi Provider Properties a| Object | 
| Jndi Provider Url a| String | 
|======================
    
[[CachedJndiNameResolver]]
=== Cached Jndi Name Resolver

[cols=".^30%,.^40%,.^30%", options="header"]
|======================
| Field | Type | Default Value
| Context Factory a| Any | 
| Jndi Initial Factory a| String | 
| Jndi Provider Properties a| Object | 
| Jndi Provider Url a| String | 
|======================
    


